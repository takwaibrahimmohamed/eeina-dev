<!DOCTYPE html>
<html lang="{{lang}}" dir="{{#if (eq lang 'ar')}}rtl{{else}}ltr{{/if}}">
<head>
  <meta charset="UTF-8">
  <title>{{t "Shopping List" lang}}</title>
  <style>
    /* Base and Page Setup */
    @page {
      size: A4;
      margin: 30mm; /* Generous margin for printing */
    }

    body {
      margin: 0;
      padding: 0;
      font-family: {{#if (eq lang 'ar')}}'Cairo', sans-serif{{else}}'Helvetica Neue', Helvetica, Arial, sans-serif{{/if}};
      color: #333; /* Darker gray for better contrast */
      background-color: #f8f9fa; /* Lighter, softer background */
      font-size: 14px; /* Base font size */
      line-height: 1.6;
      direction: {{#if (eq lang 'ar')}}rtl{{else}}ltr{{/if}};
      text-align: {{#if (eq lang 'ar')}}right{{else}}left{{/if}};
    }

    /* Font Import for Arabic */
    {{#if (eq lang 'ar')}}
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap');
    {{/if}}

    /* Container */
    .container {
      max-width: 800px; /* Limit width for better readability */
      margin: 40px auto; /* Center the container */
      padding: 35px 40px; /* Increased padding */
      background-color: #ffffff; /* White background for content */
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.07); /* Softer, slightly larger shadow */
      border: 1px solid #e0e0e0; /* Subtle border */
    }

    /* Heading */
    h1 {
      font-size: 26px; /* Slightly smaller, more refined */
      font-weight: 600; /* Semi-bold */
      margin-top: 0;
      margin-bottom: 30px;
      color: #1a73e8; /* A standard professional blue */
      text-align: center;
      border-bottom: 1px solid #e0e0e0; /* Separator line */
      padding-bottom: 15px; /* Space below heading */
    }

    /* Ingredient List */
    .ingredient-list {
      list-style: none; /* Remove default bullets */
      padding: 0;
      margin: 0;
    }

    /* Ingredient Item */
    .ingredient-item {
      display: flex; /* Use flexbox for alignment */
      align-items: center; /* Vertically center checkbox and text */
      padding: 12px 5px; /* Padding top/bottom */
      border-bottom: 1px solid #f0f0f0; /* Lighter separator between items */
      transition: background-color 0.2s ease; /* Smooth hover effect */
    }

    .ingredient-item:last-child {
      border-bottom: none; /* No border for the last item */
    }

    .ingredient-item:hover {
        background-color: #f5f5f5; /* Subtle hover background */
    }

    /* Checkbox */
    .ingredient-checkbox {
      margin-right: 12px; /* Space between checkbox and text */
      margin-left: 0; /* Reset margin for LTR */
      width: 18px; /* Slightly larger checkbox */
      height: 18px;
      accent-color: #1a73e8; /* Match checkbox color to heading */
      cursor: pointer;
    }

    /* Specific styles for RTL */
    html[dir="rtl"] .ingredient-checkbox {
        margin-right: 0;
        margin-left: 12px; /* Space on the left for RTL */
    }

    /* Ingredient Name (now wrapped in label) */
    .ingredient-label {
      font-size: 15px; /* Slightly larger text */
      font-weight: 400; /* Regular weight */
      color: #444; /* Slightly lighter text color */
      flex-grow: 1; /* Allow text to take remaining space */
      cursor: pointer; /* Indicate it's clickable (due to checkbox) */
    }

    /* Optional: Style checked items */
    .ingredient-item input:checked + .ingredient-label {
        text-decoration: line-through;
        color: #888; /* Gray out checked items */
    }

     /* Print specific styles */
    @media print {
      body {
        background-color: #fff;
        font-size: 12pt; /* Standard print size */
        color: #000; /* Black text for print */
      }
      .container {
        box-shadow: none;
        border: none;
        margin: 0;
        padding: 0;
        max-width: 100%;
        border-radius: 0;
      }
      h1 {
        color: #000;
        border-bottom: 1px solid #ccc;
        font-size: 18pt;
      }
      .ingredient-item {
         border-bottom: 1px solid #ccc;
         padding: 8px 0;
      }
      .ingredient-checkbox {
        /* Basic square for printing unchecked boxes */
        appearance: none;
        -webkit-appearance: none;
        border: 1px solid #999;
        width: 12px;
        height: 12px;
        margin-top: 2px; /* Adjust alignment if needed */
        vertical-align: middle;
      }
      .ingredient-item input:checked {
          /* You might need more complex styling or unicode char for checked state in print */
          /* This basic approach might not render perfectly */
          background-color: #555; /* Crude checked indicator */
      }
       .ingredient-item input:checked + .ingredient-label {
         text-decoration: line-through;
         color: #555;
       }
      .ingredient-item:hover {
        background-color: transparent; /* No hover effect on print */
      }
    }

  </style>
  {{#if (eq lang 'ar')}}<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet"/>{{/if}}
</head>
<body>
  <div class="container">
    <h1>{{t "Shopping List" lang}}</h1> <ul class="ingredient-list">
      {{#each ingredients}}
        <li class="ingredient-item">
          <input type="checkbox" id="item-{{@index}}" class="ingredient-checkbox">
          <label for="item-{{@index}}" class="ingredient-label">{{lookup this.name ../lang}}</label>
        </li>
      {{/each}}
    </ul>
  </div>
</body>
</html>